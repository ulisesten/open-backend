function el(a){return document.getElementById(a)}function newEl(a){return document.createElement(a)}var registrar=el("signup-button");null!==registrar&&registrar.addEventListener("click",function(a){var b=el("username-register").value,c=el("email-register").value,d=el("password-register").value;auth("/mobileRegister",c,d,b);a.preventDefault()});var ingresar=el("login-button");
null!==ingresar&&ingresar.addEventListener("click",function(a){var b=el("email-login").value,c=el("password-login").value;auth("/mobileLogin",b,c);a.preventDefault()});
function auth(a,b,c,d){b={email:b,password:c};d&&(b.username=d);fetch(a,{credentials:"include",method:"POST",headers:{Accept:"application/json","Content-Type":"application/json; charset=utf-8"},body:JSON.stringify(b)}).then(function(a){console.log("res",a.status);return 200!==a.status?null:a.json()}).then(function(a){null!==a?(console.log("not null",a),localStorage.setItem("username",a.username),localStorage.setItem("id",a.id),localStorage.setItem("token",a.credentials),window.location.href="/"):
console.log("problem with credentials")})};