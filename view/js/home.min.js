function getEl(a){return document.getElementById(a)}function newEl(a){return document.createElement(a)}var queryHeaders={"Content-Type":"application/json; charset=utf-8"};function getData(a,c){fetch(a,{credentials:"include",headers:queryHeaders,method:"GET"}).then(function(a){if(a.ok)return a.json();console.log("getProduct: Error")}).then(function(a){null!==a&&c(a)})}var imageStorageUrl="https://res.cloudinary.com/djlzeapiz/image/upload/q_20/v1573315852/";
function productCard(a){return'<div class="card">\n        <div class="img-container">\n            <img class="cardImage" src='+(imageStorageUrl+a.image_array[0])+' alt="imagen del producto" >\n        </div>\n        <div class="product-info-container">\n            <h2 class="product-name">'+a.product_name+'</h2>\n            <p class="price">$'+a.price+"</p>\n            \x3c!-- <p>"+a.description+"</p> --\x3e\n        </div>\n    </div>"}
function productCallback(a){console.log(a);a.forEach(function(a){a=productCard(a);getEl("products").innerHTML+=a})}function coverCard(a,c){return'<img id="'+c+'" class="page" src="'+(imageStorageUrl+a.cover_id)+'">'}function coverCallback(a){console.log("covers",a);var c=getEl("view-pager"),d=1;a.forEach(function(e){e=coverCard(e,d++);c.innerHTML+=e;d===a.length+1&&slider()})}
var timeOnSlide=3,timeBetweenSlides=1,animationString="animation",animation=!1,keyframeprefix="",domPrefixes=["Webkit","Moz","O","Khtml"],pfx="",slidy=getEl("view-pager");
function slider(){void 0!==slidy.style.animationName&&(animation=!0);if(!1===animation)for(var a=0;a<domPrefixes.length;a++)if(void 0!==slidy.style[domPrefixes[a]+"AnimationName"]){pfx=domPrefixes[a];animationstring=pfx+"Animation";keyframeprefix="-"+pfx.toLowerCase()+"-";animation=!0;break}if(!1!==animation){var c=slidy.getElementsByTagName("img"),d=c[0].cloneNode(!1);slidy.appendChild(d);c=c.length;d=(timeOnSlide+timeBetweenSlides)*(c-1);var e=timeOnSlide/d*100,g=timeBetweenSlides/d*100;a=100/c;
var f=0,b=document.createElement("style");b.type="text/css";b.innerHTML+="#view-pager { text-align: left; margin: 0; font-size: 0; position: relative; width: "+100*c+"%;  }\n";b.innerHTML+="#view-pager img { float: left; width: "+a+"%; }\n";b.innerHTML+="@"+keyframeprefix+"keyframes slidy {\n";for(a=0;a<c-1;a++)f+=e,b.innerHTML+=f+"% { left: -"+100*a+"%; }\n",f+=g,b.innerHTML+=f+"% { left: -"+100*(a+1)+"%; }\n";b.innerHTML+="}\n";b.innerHTML+="#view-pager { left: 0%; "+keyframeprefix+"transform: translate3d(0,0,0); "+
keyframeprefix+"animation: "+d+"s slidy infinite; }\n";document.body.appendChild(b)}}var toggleMenu=getEl("toggle-menu"),toggledMenu=getEl("toggled-menu"),sideBarMenu=getEl("sidebar-menu");toggleMenu.addEventListener("click",function(){sideBarMenu.style.transform="translateX(0%)";toggleMenu.style.display="none";toggledMenu.style.display="block"});
toggledMenu.addEventListener("click",function(){sideBarMenu.style.transform="translateX(-100%)";toggleMenu.style.display="block";toggledMenu.style.display="none"});var mUsername=localStorage.username,mId=localStorage.id;void 0===mId||void 0===mUsername?window.location.href="/ingresar":(getData("/getCovers",coverCallback),getData("/getProducts",productCallback));